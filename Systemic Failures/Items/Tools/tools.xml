<?xml version="1.0" encoding="utf-8"?>
<Override>
    <Items>
        <Item name="" identifier="sprayer" category="Equipment" Tags="smallitem,tool,mountableweapon" cargocontaineridentifier="metalcrate" description="" Scale="0.5" impactsoundtag="impact_metal_light" useinhealthinterface="true">
            <PreferredContainer primary="engcab" />
            <PreferredContainer primary="reactorcab" amount="1" spawnprobability="1" />
            <PreferredContainer secondary="wreckstoragecab,abandonedstoragecab" amount="1" spawnprobability="0.05" />
            <PreferredContainer primary="wreckengcab,abandonedengcab,outpostengcab" amount="1" spawnprobability="0.1" />
            <Price baseprice="120">
                <Price storeidentifier="merchantoutpost" minavailable="3" />
                <Price storeidentifier="merchantcity" multiplier="0.9" minavailable="5" />
                <Price storeidentifier="merchantresearch" multiplier="1.25" minavailable="2" />
                <Price storeidentifier="merchantmilitary" multiplier="1.25" minavailable="2" />
                <Price storeidentifier="merchantmine" multiplier="0.9" minavailable="10" />
            </Price>

            <InventoryIcon texture="Content/Items/InventoryIconAtlas2.png" sourcerect="128,256,64,64" origin="0.5,0.5" />
            <Sprite texture="Content/Items/Tools/tools.png" sourcerect="373,165,124,73" depth="0.55" origin="0.5,0.5" />

            <!-- the item takes 25 seconds to break down in a deconstructor and turns into steel and plastic -->
            <Deconstruct time="25">
                <Item identifier="steel" />
                <Item identifier="plastic" />
            </Deconstruct>

            <Fabricate suitablefabricators="fabricator" requiredtime="35">
                <RequiredSkill identifier="mechanical" level="30" />
                <RequiredItem identifier="steel" />
                <RequiredItem identifier="plastic" />
                <RequiredItem identifier="plastic" />
            </Fabricate>

            <!-- physics body -->
            <Body width="150" height="60" density="25" />

            <!-- the character will hold the item 50 pixels in front of him, with his hands at the handle1 and handle2 positions -->
            <Holdable slots="Any,RightHand+LeftHand" controlpose="true" aimpos="50,-10" handle1="-39,-20" handle2="-10,-10" msg="ItemMsgPickUpSelect" />
            <Sprayer barrelpos="34,8" spread="0" unskilledspread="0" drawhudwhenequipped="true" crosshairscale="0.1" spraystrength="6.0" range="300">
                <Crosshair texture="Content/Items/Weapons/Crosshairs.png" sourcerect="0,256,256,256" />
                <CrosshairPointer texture="Content/Items/Weapons/Crosshairs.png" sourcerect="256,256,256,256" />
                <ParticleEmitter particle="spray" velocitymin="500.0" velocitymax="650.0" particlespersecond="100" />
                <RequiredItems items="ethanol,paint,deconsol,fixfoamtank" type="Contained" msg="ItemMsgPaintOrCleaningAgentRequired" />
                <sound file="Content/Items/Tools/Sprayer.ogg" type="OnUse" range="500.0" loop="true" />

                <!--When containing paint, reduce its condition by 1.5 when used-->
                <StatusEffect type="OnUse" target="Contained" Condition="-1.5">
                    <RequiredItem items="paint" type="Contained" />
                </StatusEffect>

                <!--Reduce ethanol condition slower than paint-->
                <StatusEffect type="OnUse" target="Contained" Condition="-0.75">
                    <RequiredItem items="ethanol" type="Contained" />
                </StatusEffect>

                <PaintColors>
                    <PaintColor paintitem="ethanol" color="200,200,200,0" />
                    <PaintColor paintitem="deconsoltank" color="200,200,200,0" />
                    <PaintColor paintitem="fixfoamtank" color="200,200,200,0" />
                    <PaintColor paintitem="redpaint" color="128,0,0,180" />
                    <PaintColor paintitem="greenpaint" color="0,128,0,180" />
                    <PaintColor paintitem="bluepaint" color="0,0,128,180" />
                    <PaintColor paintitem="blackpaint" color="0,0,0,180" />
                    <PaintColor paintitem="whitepaint" color="128,128,128,180" />
                </PaintColors>
            </Sprayer>

            <RepairTool firedamage="0.0" structurefixamount="0.0" range="300" barrelpos="34,8" repairmultiple="false" repairthroughwalls="false" levelwallfixamount="0.0" targetforce="10">
                <RequiredItem items="deconsol" type="Contained" />

                <!-- reduce contamination -->
                <StatusEffect type="OnSuccess" targettype="UseTarget">
                    <ReduceAffliction identifier="contaminated" amount="10.0" />
                    <Affliction identifier="decontaminate" amount="1.0" />
                </StatusEffect>

                <!--Reduce decontamination solution condition-->
                <StatusEffect type="OnUse" target="Contained" Condition="-2.5">
                    <RequiredItem items="deconsol" type="Contained" />
                </StatusEffect>
            </RepairTool>

            <!-- IMMERSIVE REPAIRS COMPATIBILITY | RepairTool that requires ethanol to reduce "Oily" affliction with ethanol -->
            <RepairTool firedamage="0.0" structurefixamount="0.0" range="300" barrelpos="34,8" repairmultiple="false" repairthroughwalls="false" maxoverlappingwalldist="0" levelwallfixamount="0.0" targetforce="10">
                <RequiredItem items="ethanol" type="Contained" />
                <StatusEffect type="OnSuccess" target="UseTarget">
                    <RequiredItem items="ethanol" type="Contained" />
                    <ReduceAffliction identifier="oily" amount="60" />
                    <Affliction identifier="decontaminate" amount="1.0" />
                </StatusEffect>
            </RepairTool>

            <!-- IMMERSIVE REPAIRS COMPATIBILITY | RepairTool for repairing structures if fixfoamtank is contained -->
            <RepairTool firedamage="0.0" structurefixamount="10.0" range="300" barrelpos="34,8" repairmultiple="true" repairthroughwalls="true" maxoverlappingwalldist="100" levelwallfixamount="0.0" targetforce="10">
                <RequiredItem items="fixfoamtank" type="Contained" />
                <ParticleEmitter particle="fixfoam" particlespersecond="30" anglemin="0" anglemax="0" velocitymin="1200" scalemin="0.3" scalemax="0.7" velocitymax="1800" />
                <ParticleEmitter particle="fixfoam" particlespersecond="30" anglemin="0" anglemax="0" velocitymin="800" scalemin="0.3" scalemax="0.7" velocitymax="1000" />
                <ParticleEmitter particle="fixfoamgoosplash" anglemax="360" distancemax="0" particlespersecond="5" scalemin="0.3" scalemax="0.4" />
                <Fixable identifier="structure" />
            </RepairTool>

            <!-- IMMERSIVE REPAIRS COMPATIBILITY | RangedWeapon to trigger spawning fixfoam projectiles from a contained fixfoam tank -->
            <RangedWeapon reload="0.25" weapondamagemodifier="0.0" penetration="0.0" holdtrigger="true" barrelpos="34,8" spread="0" unskilledspread="0" combatPriority="0" drawhudwhenequipped="false" crosshairscale="0.2">
                <RequiredItem items="fixfoamtank" type="Contained" />
                <StatusEffect type="OnUse" target="Contained">
                    <Use />
                </StatusEffect>
            </RangedWeapon>

            <!-- one welding fuel or oxygen tank can be contained inside the welding tool -->
            <ItemContainer capacity="1" maxstacksize="1" hideitems="false" itempos="8,-35" containedspritedepth="0.56" containedstateindicatorstyle="tank">
                <Containable items="ethanol,paint,deconsol,fixfoamtank" />
            </ItemContainer>

            <!-- ItemComponent with an impossible skillcheck to always trigger the OnFailure effects if the item is used in the health interface. This is required to be done this way due to OnSuccess being always triggered by the RepairTool component and thus would otherwise trigger by normal usage -->
            <ItemComponent>
                <RequiredSkill identifier="medical" level="1000" />
                <StatusEffect type="OnFailure" target="UseTarget" duration="1" stackable="false">
                    <RequiredItem items="ethanol" type="Contained" />
                    <ReduceAffliction identifier="oily" amount="60" />
                    <Affliction identifier="decontaminate" amount="1.0" />
                    <Sound file="Content/Items/Tools/Sprayer.ogg" range="500.0" loop="true" />
                </StatusEffect>

                <StatusEffect type="OnFailure" target="Contained" condition="-0.75" disabledeltatime="true">
                    <RequiredItem items="ethanol" type="Contained" />
                </StatusEffect>

                <StatusEffect type="OnFailure" target="UseTarget" duration="1" stackable="false">
                    <RequiredItem items="deconsol" type="Contained" />
                    <ReduceAffliction identifier="contaminated" amount="10.0" />
                    <Affliction identifier="decontaminate" amount="1.0" />
                    <Sound file="Content/Items/Tools/Sprayer.ogg" range="500.0" loop="true" />
                </StatusEffect>

                <StatusEffect type="OnFailure" target="Contained" condition="-2.5" disabledeltatime="true">
                    <RequiredItem items="deconsol" type="Contained" />
                </StatusEffect>
            </ItemComponent>
            <aitarget sightrange="2000" soundrange="500" fadeouttime="3" />
        </Item>
    </Items>
</Override>
